



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-4.4.0">
    
    
      
        <title>Build Docker* Images - ActivEdge: Smart Building Blocks for Remote Edge Management</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#03a9f4">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="light-blue" data-md-color-accent="light-blue">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#build-and-deploy-docker-images-for-mps-and-rps-locally" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="ActivEdge: Smart Building Blocks for Remote Edge Management" class="md-header-nav__button md-logo">
          
            <i class="md-icon">î Œ</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              ActivEdge: Smart Building Blocks for Remote Edge Management
            </span>
            <span class="md-header-nav__topic">
              
                Build Docker* Images
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="ActivEdge: Smart Building Blocks for Remote Edge Management" class="md-nav__button md-logo">
      
        <i class="md-icon">î Œ</i>
      
    </a>
    ActivEdge: Smart Building Blocks for Remote Edge Management
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      MPS & RPS Local Setup
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        MPS & RPS Local Setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Local/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Local/installMPS/" title="Install MPS Locally" class="md-nav__link">
      Install MPS Locally
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Local/installRPS/" title="Install RPS Locally" class="md-nav__link">
      Install RPS Locally
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      MPS & RPS Docker* Images
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        MPS & RPS Docker* Images
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Build Docker* Images
      </label>
    
    <a href="./" title="Build Docker* Images" class="md-nav__link md-nav__link--active">
      Build Docker* Images
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-youll-do" title="What You'll Do" class="md-nav__link">
    What You'll Do
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clone-the-mps-and-rps-repositories" title="Clone the MPS and RPS Repositories" class="md-nav__link">
    Clone the MPS and RPS Repositories
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clone-mps" title="Clone MPS" class="md-nav__link">
    Clone MPS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clone-rps" title="Clone RPS" class="md-nav__link">
    Clone RPS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-the-docker-images" title="Build the Docker Images" class="md-nav__link">
    Build the Docker Images
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-mps" title="Build MPS" class="md-nav__link">
    Build MPS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-rps" title="Build RPS" class="md-nav__link">
    Build RPS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-the-environment-variables" title="Set the Environment Variables" class="md-nav__link">
    Set the Environment Variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-docker-compose" title="Run docker-compose" class="md-nav__link">
    Run docker-compose
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-up" title="Next up" class="md-nav__link">
    Next up
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      RPS Configuration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        RPS Configuration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../General/loginToRPS/" title="Login to RPS" class="md-nav__link">
      Login to RPS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../General/createCIRAConfig/" title="Create a CIRA Config" class="md-nav__link">
      Create a CIRA Config
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../General/createProfileCCM/" title="Create a Profile with CCM" class="md-nav__link">
      Create a Profile with CCM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../General/createProfileACM/" title="Create a Profile with ACM" class="md-nav__link">
      Create a Profile with ACM
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      RPC on a Managed Device
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        RPC on a Managed Device
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../General/buildRPC/" title="Build & Run RPC" class="md-nav__link">
      Build & Run RPC
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      MPS Device Management
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        MPS Device Management
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../General/manageDevice/" title="See Connected Devices" class="md-nav__link">
      See Connected Devices
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../dockerCloud/" title="Docker Images on the Cloud" class="md-nav__link">
      Docker Images on the Cloud
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Tutorials/uitoolkit/" title="Create Consoles with the UI Toolkit" class="md-nav__link">
      Create Consoles with the UI Toolkit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Tutorials/apiTutorial/" title="Construct a Rest API Call" class="md-nav__link">
      Construct a Rest API Call
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Tutorials/addDatabase/" title="Add a Database" class="md-nav__link">
      Add a Database
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Tutorials/addVault/" title="Add Vault Storage" class="md-nav__link">
      Add Vault Storage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Tutorials/allowlist/" title="Use an Allowlist" class="md-nav__link">
      Use an Allowlist
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      APIs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        APIs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../APIs/indexMPS/" title="MPS Methods" class="md-nav__link">
      MPS Methods
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../APIs/indexRPS/" title="RPS Methods" class="md-nav__link">
      RPS Methods
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../security/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      ActivEdge Topics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        ActivEdge Topics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Topics/misc/" title="Static and Dynamic IPs" class="md-nav__link">
      Static and Dynamic IPs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Topics/guids/" title="GUIDs in Intel AMT" class="md-nav__link">
      GUIDs in Intel AMT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Topics/mebx/" title="Manually Configure and Unprovision" class="md-nav__link">
      Manually Configure and Unprovision
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Topics/proxies/" title="Proxies" class="md-nav__link">
      Proxies
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../release-notes/" title="Release notes" class="md-nav__link">
      Release notes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-youll-do" title="What You'll Do" class="md-nav__link">
    What You'll Do
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clone-the-mps-and-rps-repositories" title="Clone the MPS and RPS Repositories" class="md-nav__link">
    Clone the MPS and RPS Repositories
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clone-mps" title="Clone MPS" class="md-nav__link">
    Clone MPS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clone-rps" title="Clone RPS" class="md-nav__link">
    Clone RPS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-the-docker-images" title="Build the Docker Images" class="md-nav__link">
    Build the Docker Images
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-mps" title="Build MPS" class="md-nav__link">
    Build MPS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-rps" title="Build RPS" class="md-nav__link">
    Build RPS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-the-environment-variables" title="Set the Environment Variables" class="md-nav__link">
    Set the Environment Variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-docker-compose" title="Run docker-compose" class="md-nav__link">
    Run docker-compose
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-up" title="Next up" class="md-nav__link">
    Next up
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="build-and-deploy-docker-images-for-mps-and-rps-locally">Build and Deploy Docker* Images for MPS and RPS Locally<a class="headerlink" href="#build-and-deploy-docker-images-for-mps-and-rps-locally" title="Permanent link">&para;</a></h1>
<p>Management Presence Server (MPS) and Remote Provisioning Server (RPS)  provide support for deploying the services as Docker* images, standardized packages containing an application's source code, libraries, environment, and dependencies. </p>
<p>A Docker container is the instantiation of a Docker image as a virtualized unit that separates the application from the environment. Docker* containers start and run reliably, securely, and portably inside different environments, eliminating some of the usual problems that occur with software deployment on varying platforms. </p>
<p>Get more information about Docker images and containers at <a href="https://www.docker.com/resources/what-container">Docker resources.</a></p>
<h2 id="what-youll-do">What You'll Do<a class="headerlink" href="#what-youll-do" title="Permanent link">&para;</a></h2>
<p>This section describes how to deploy MPS and RPS as Docker* images on the development system:</p>
<ol>
<li>Clone the repositories.</li>
<li>Build the images.</li>
<li>Set the environment variables.</li>
<li>Run the tool <a href="https://docs.docker.com/compose/">docker-compose</a> tool on a sample configuration file to define and enable a multi-container environment. </li>
</ol>
<h2 id="clone-the-mps-and-rps-repositories">Clone the MPS and RPS Repositories<a class="headerlink" href="#clone-the-mps-and-rps-repositories" title="Permanent link">&para;</a></h2>
<p>Navigate to a directory of your choice for development.</p>
<h3 id="clone-mps">Clone MPS<a class="headerlink" href="#clone-mps" title="Permanent link">&para;</a></h3>
<p>1. Clone the MPS repository.</p>
<div class="codehilite"><pre><span></span><code>git clone https://github.com/open-amt-cloud-toolkit/mps.git
</code></pre></div>


<p>2. Checkout the ActivEdge branch.</p>
<div class="codehilite"><pre><span></span><code>cd mps
git checkout ActivEdge
</code></pre></div>


<h3 id="clone-rps">Clone RPS<a class="headerlink" href="#clone-rps" title="Permanent link">&para;</a></h3>
<p>1.Clone the RPS repository to the same parent directory as MPS.</p>
<div class="codehilite"><pre><span></span><code>git clone https://github.com/open-amt-cloud-toolkit/rps.git
</code></pre></div>


<p>After the <code>git clone</code> commands complete, the parent directory will contain an MPS and RPS folder.</p>
<div class="codehilite"><pre><span></span><code>ðŸ“¦parent
 â”£ ðŸ“‚mps
 â”— ðŸ“‚rps
</code></pre></div>


<p>2. Checkout the ActivEdge branch.</p>
<div class="codehilite"><pre><span></span><code>cd rps
git checkout ActivEdge
</code></pre></div>


<p><br></p>
<h2 id="build-the-docker-images">Build the Docker Images<a class="headerlink" href="#build-the-docker-images" title="Permanent link">&para;</a></h2>
<p>Build the MPS and RPS Docker images from their respective directories with the <strong>build -t</strong> command, giving the image a name and tag:</p>
<p><a href="https://docs.docker.com/engine/reference/commandline/build/">docker build . -t [name:tag]</a>  </p>
<ul>
<li>Create a name and tag with lowercase letters, digits, and separators (i.e., underscores, periods, and dashes).</li>
<li>Do not end a name or tag with a separator.</li>
<li>Tags contain up to 128 characters.</li>
</ul>
<blockquote>
<p><strong>Note: Building a fresh Docker image may take several minutes.</strong> </p>
</blockquote>
<h3 id="build-mps">Build MPS<a class="headerlink" href="#build-mps" title="Permanent link">&para;</a></h3>
<p>1. Navigate to MPS folder and build the Docker image. </p>
<div class="codehilite"><pre><span></span><code>cd ../mps
docker build . -t mps:v1
</code></pre></div>


<p><img alt="Image of MPS Build Completion" src="../../assets/images/MPSBuild.png" /> </p>
<blockquote>
<p><strong>Note:</strong> On completion, a security warning is normal during local setup with the default values for developer testing environments.</p>
</blockquote>
<h3 id="build-rps">Build RPS<a class="headerlink" href="#build-rps" title="Permanent link">&para;</a></h3>
<p>2. Navigate to the RPS folder and build the Docker image.</p>
<div class="codehilite"><pre><span></span><code>cd ..
cd rps
docker build . -t rps:v1
</code></pre></div>


<p><img alt="Image of RPS Build Completion" src="../../assets/images/RPSBuild.png" /> </p>
<h3 id="set-the-environment-variables">Set the Environment Variables<a class="headerlink" href="#set-the-environment-variables" title="Permanent link">&para;</a></h3>
<p>3. After building the new MPS and RPS images, navigate to the mps\scripts\docker-compose folder and copy the .env.template file to .env. </p>
<div class="codehilite"><pre><span></span><code>cd ..
cd mps/scripts/docker-compose
</code></pre></div>


<p>Windows Command:</p>
<div class="codehilite"><pre><span></span><code>copy .env.template .env
</code></pre></div>


<p>Linux Command:</p>
<div class="codehilite"><pre><span></span><code>cp .env.template .env
</code></pre></div>


<blockquote>
<p><strong>Note: Preserve the .env.template file.</strong></p>
<p>This file is very important to maintain. Always copy to a new file. </p>
</blockquote>
<p>4. Open the .env file in a text editor. Set the image-related environment variables within the .env file.</p>
<p>Change the following fields:</p>
<table>
<thead>
<tr>
<th align="left">Field</th>
<th align="left">Change to</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><strong>RPS_IMAGE</strong></td>
<td align="left">rps:v1</td>
</tr>
<tr>
<td align="left"><strong>MPS_IMAGE</strong></td>
<td align="left">mps:v1</td>
</tr>
<tr>
<td align="left"><strong>MPS_COMMON_NAME</strong></td>
<td align="left">Your development device's IP address</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Note: Forgot the name and tag from the build?</strong></p>
<p>The <strong>docker images</strong> command lists repository names, tags, image IDs, and sizes. </p>
<p><code>docker images</code></p>
<p><img alt="Image of docker images command" src="../../assets/images/DICommands.png" /></p>
</blockquote>
<!-- 5. Set the proper proxy values if behind a proxy.

   HTTP_PROXY=http://[your-proxy-server]:[your-proxy-server-port]
   HTTPS_PROXY=http://[your-proxy-server]:[your-proxy-server-port]

   ```
   HTTP_PROXY=http://10.16.01.01:3030
   HTTPS_PROXY=http://10.16.01.01:3030
   ```

   > **NOTE: Behind a Corporate Proxy?**
   >
   > To download images and install npm packages inside a container on start, modify settings in ~/docker/config.json to reflect the correct proxy address. 
   >
   > For more information about how to modify the proxy settings, see [Configure Docker Client](https://docs.docker.com/network/proxy/#configure-the-docker-client).
   > -->

<h2 id="run-docker-compose">Run docker-compose<a class="headerlink" href="#run-docker-compose" title="Permanent link">&para;</a></h2>
<p>The environment file .env now contains the MPS and RPS environment variables to pass to the Docker engine. </p>
<p>1. Navigate to the the <code>mps/scripts/docker-compose</code> directory. </p>
<p>2. Run the <code>docker-compose up</code> command, which starts the containers. approximately 2-3 minutes to start the containers.</p>
<div class="codehilite"><pre><span></span><code>docker-compose up
</code></pre></div>


<p>3. <strong>Important</strong>: While the <code>docker-compose up</code> command is running, you may see a pop-up ask for permission for Docker Desktop Filesharing. You must select <strong>Share It</strong> for the <code>docker-compose up</code> command to execute successfully.  If the pop-up expires,<code>docker-compose up</code> will fail.  You must run <code>docker-compose down</code> and then rerun <code>docker-compose up</code> to successfully start the containers.</p>
<p><img alt="Image of filesharing" src="../../assets/images/DockerFileSharing.png" /></p>
<p><br></p>
<p>Successful Output:</p>
<p><img alt="Image of docker compose command" src="../../assets/images/DockerCompose.png" /></p>
<!-- ## Check Logs
Alternatively, run `docker-compose up -d` to start the containers in the background.  To view the logs in a separate window, follow the steps below.

Check the logs to ensure the MPS and RPS services are properly handling the traffic from end devices. 

1. Allow the previous command line window for mps and rps to continue to run. Open a new command line window to run the **docker-compose logs** command. 
2. Navigate to the docker-compose folder

3. Type the **docker-compose logs** command.

   docker-compose logs [name of service]

   ```
   docker-compose logs mps
   ```
   ![Image of Docker Log Output](../assets/images/DockerLogFile.png) 
   A log file may provide information for troubleshooting these problems: -->

<p><br></p>
<h2 id="next-up">Next up<a class="headerlink" href="#next-up" title="Permanent link">&para;</a></h2>
<p><a href="../../General/loginToRPS/">Login to RPS</a></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../overview/" title="Overview" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Overview
              </span>
            </div>
          </a>
        
        
          <a href="../../General/loginToRPS/" title="Login to RPS" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Login to RPS
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.1.2",url:{base:"../.."}})</script>
      
    
  </body>
</html>